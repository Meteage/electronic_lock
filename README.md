# electronic_lock
STM32

嵌入式MCU产品开发全流程图:
概念与需求 -> 可行性评估 -> 方案设计 -> 硬件开发 -> 软件开发 -> 系统整合与调试 -> 测试验证 -> 试产与认证 -> 量产与维护

1.需求分析
2.方案设计
3.软硬件开发
4.系统整合与调试
5.文档与说明

# 产品名称：基于STM32的智能指纹门锁设计

# 需求分析（个人练手项目，主要目的是学习嵌入式产品开发流程）
1.基础的密码输入 按键输入
2.输入密码的最后一位显示，其他位数用*隐藏
3.支持指纹解锁
4.30秒无操作自动息屏 自动清空输入
5.5次输错密码将锁住输入，需要等待60秒后重新输入，并连接网络通知主人，告知时间

# 方案设计
1.MCU 采用STM32F103C8T6 
2.4*4矩阵输入键盘 8pin普通引脚
3.OLED显示屏 I2C接口
4.指纹模块 不知道
5.ESP8266实现联网 UART串口
6.LED灯 与 蜂鸣器 与 继电器 x

遇到问题：这个模块是确定好了，但是怎么分配引脚呢？
我感觉还是一部分一部分来，比如可以先搭建一个基础的锁的控制，然后再后面再加其他功能

先实现基础的锁的开关，用一个引脚代表锁的开关，LED要表示 系统的运行状态(定时闪烁)，锁的开关状态，绿色是开，红色是关 所以一共是5个引脚

emmm,还是先实现这些模块的驱动吧，比如矩阵扫描的代码，然后是软件I2C实现，搞一下OLED的显示，这个部分用别人写好的库就行

矩阵扫描的代码:
今天下午到晚上一直卡在这个矩阵键盘输入的部分，搞了好久，结果一直卡着，而且出现了各种各样奇怪的问题，
最后到头来是因为，输入端口的配置应该是输入下拉，还是自己的电路知识缺乏了，因为输入引脚下拉的话默认是低电平，但是因为有下拉电阻所以当外接高电平时也可以为高电平，但是如果让引脚浮空的话，输入就是不确定的。

项目概览
项目名称：基于STM32的智能指纹门锁学习原型

核心目标：掌握嵌入式产品开发全流程，而非追求商业级稳定。

核心MCU：STM32F103C8T6 (STM32F1系列，经典、资源适中、资料极多，俗称“蓝色药丸”)

关键外设：指纹模块、矩阵键盘/独立按键、OLED显示屏、Wi-Fi模块（ESP8266）、继电器（模拟锁体）、LED与蜂鸣器（状态指示）。

将需求转化为技术规格：

功能1/2：需要4x4矩阵键盘或12个独立按键 + 0.96寸OLED显示屏(I2C接口)用于交互。

功能3：需要光学或电容指纹模块（如AS608/FPM10A， UART通信）。

功能4：需要定时器实现30秒超时，并控制屏幕背光。

功能5：需要计数器和定时器实现锁止；需要Wi-Fi模块(ESP8266， AT指令UART控制)实现网络通知；需要一个简单的网络服务（如Bark、Server酱或自建HTTP服务器）来接收通知。

软件架构规划：

裸机 (No RTOS)：使用超级循环(while(1)) + 状态机的方式对于初学者更易于理解和调试。

模块划分：

keypad.c/h: 按键驱动与扫描

oled.c/h: 显示驱动与UI界面

fingerprint.c/h: 指纹识别指令封装

wifi.c/h: ESP8266 AT指令封装

lock_logic.c/h: 核心业务逻辑（密码验证、指纹验证、状态管理、定时逻辑）

main.c: 主循环，调度各模块
